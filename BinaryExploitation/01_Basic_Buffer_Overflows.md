## Enumerating the Buffer
Pwntools has a tool called cyclic, which will allow you to generate a cyclic string of characters of a certain size. ie: `cyclic 500`  
Feed that to the input which feeds the buffer to more quickly enumerate how large the overflow has to be  
Run the binary with the cyclic input, and break before the return. Take the character interpretation of the bytes in `$rbp` right before the retun.  
These characters are the last bytes before the position of the return address  
Running `cyclic -l <4 characters>` will tell you at what position in the cyclic string the first of those 4 characters was at.  
Add 4 to this value and you have the index off the start of the buffer of the return address  

Another, similar way to enumerate the buffer is to use the built in `pattern` feature of gef  
Simply run the program in gef, use `pattern create <size>` to generate a pattern, and then after the program segfaults in gef run `pattern search $rsp`  
This is the size of the buffer overflow

## Compiling ShellCode

`nasm -felf64 basicShellCode.asm`  
`objcopy -S -O binary -j .text basicShellCode.o compiled_shellcode_text`

These commands will create the text section as an executable, allowing you to read opcodes from compiled\_shellcode\_text
This shellcode can also be tested with the  
`shellcode_utilities/test_shellcode` utility  

An easier way is to use the makeasm.py script in shellcode_utilities:  
`python3 makeasm.py 64 clean basicShellCode.asm`  

## Core Dumps

Core dumps can help us determine why we are seg faulting/dumping core after we run an executable
Debugging core dumps is done differently depending on your OS

**Kali:**  
`ulimit -c unlimited`  
cause a seg fault  
`gdb -c core`  

**Mint:**  
ulimit -c unlimited  
case a seg fault  
`ls /var/lib/systemd/coredump` you should see a new entry for the recent core dump  
`sudo unlz4 --rm /var/lib/systemd/coredump/<core-dump-name> core`  
`sudo chown purple:purple core`  
`gdb -c core`  

In general, figuring out how to debug core dumps on a given OS can be done with the help of Google  
The command `cat /proc/sys/kernel/core_pattern` can also be helpful