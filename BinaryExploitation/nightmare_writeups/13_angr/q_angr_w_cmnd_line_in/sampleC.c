#include <stdio.h>
#include <string.h>
#include <stdlib.h>

/* Compile with: 
*   gcc -no-pie sampleC.c -o sample2
*/

int exit_function_bad()
{
    printf("You lost\n");
    exit(0);
}

int check_function(char* user_in)
{
    if ( *(user_in) != 's')
    {
        exit_function_bad();
    }
    if ( *(user_in + 1) != 'c')
    {
        exit_function_bad();
    }
    if ( *(user_in + 2) != 'o')
    {
        exit_function_bad();
    }
    if ( *(user_in + 3) != 't')
    {
        exit_function_bad();
    }
    if ( *(user_in + 4) != 't')
    {
        exit_function_bad();
    }
    if ( *(user_in + 5) != 'c')
    {
        exit_function_bad();
    }
    if ( *(user_in + 6) != 't')
    {
        exit_function_bad();
    }
    if ( *(user_in + 7) != 'f')
    {
        exit_function_bad();
    }
    if ( *(user_in + 8) != '{')
    {
        exit_function_bad();
    }
    if ( *(user_in + 9) != '1')
    {
        exit_function_bad();
    }
    if ( *(user_in + 10) != '8')
    {
        exit_function_bad();
    }
    if ( *(user_in + 11) != '}')
    {
        exit_function_bad();
    }

    return 0;
}

int main(int argc, char** argv)
{
    char user_in[50];
    int user_in_strlen;

    if (argc < 2)
    {
        printf("useage: ./sample2 arg");
        exit(0);
    }
    user_in_strlen = strlen(argv[1]);
    if (user_in_strlen != 12)
    {
        exit_function_bad();
    }
    strncpy(user_in, argv[1], 13);

    check_function(user_in);

    printf("good job\n");

    return 0;
}